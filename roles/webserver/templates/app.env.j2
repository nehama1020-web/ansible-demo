# roles/webserver/templates/app.env.j2
DB_HOST={{ hostvars[groups['db'][0]].ansible_host }}
DB_PORT={{ hostvars[groups['db'][0]].db_port | default(5432) }}
DB_USER=appuser
DB_PASS={{ db_password }}

# Generated by Ansible - DO NOT EDIT
APP_ENV=prod

# Host info
APP_HOST={{ hostvars[inventory_hostname]['ansible_host'] | default(inventory_hostname) }}
APP_IP={{ ansible_default_ipv4.address | default(ansible_facts.default_ipv4.address | default('')) }}

# Secrets (come from vault)
APP_SECRET={{ app_secret }}
DB_PASSWORD={{ db_password }}

